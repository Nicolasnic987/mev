<!DOCTYPE html>
<html lang="ja">

<head>
  <meta chartset="utf-8">
  <title>me/v</title>
  <link rel="stylesheet" href="./mev.css" type="text/css">
</head>

<body style="margin:0; overflow:hidden">
  <div style="position: absolute; left:30%; top: 200px; width:40%" id="vue_start_dialog">
    <h2>VRMかFBXを読み込んで編集開始</h2>

    <section style="text-align: center">
      <div id="dropzone"
        style="height: 100px; width: 400px; border-style:dotted; border-color: grey; border-width: 3px; text-align: center; padding-top: 24px"
        v-bind:style="{backgroundColor: bg_color}" @dragover="file_dragover" @dragleave="file_dragleave"
        @drop="file_drop">
        <img src="ui_asset/baseline-open_in_browser-24px.svg" width="48px" height="48px" style="filter:contrast(10%)">
        <br />
        ファイルをドロップする
      </div>

      または<br />
      <input type="file" @change="file_select"></input>
    </section>

    <section>
      <span class="text-aux">※編集はすべてブラウザ内で行われ、読み込んだデータがアップロードされることはありません。</span>
    </section>
  </div>

  <div style="position: absolute; left:8px; top: 8px; width: 240px" id="vue_menu">
    <h2>メッシュ</h2>
    <div id="meshes"></div>

    <h2>テクスチャ</h2>
    <div id="textures"></div>

    <section v-if="final_vrm_ready">
      <h2>完成したVRMをダウンロード</h2>
      サイズ: {{final_vrm_size_approx}}<br />
      ポリゴン: {{final_vrm_tris}}<br />
      <button @click="download_vrm">ダウンロード</button>
    </section>
  </div>

  <!-- Debug -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"
    integrity="sha256-ufGElb3TnOtzl5E4c/qQnZFGP+FYEZj5kbSEdJNrw0A=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/103/three.js"
    integrity="sha256-Dz4QEGvodtXoy6gQW91o97WHBVvVXj7WsVA2LOUigbs=" crossorigin="anonymous"></script>

  <!-- Release -->
  <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"
    integrity="sha256-chlNFSVx3TdcQ2Xlw7SvnbLAavAQLO0Y/LBiWX04viY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/103/three.min.js"
    integrity="sha256-T4lfPbatZLyNhpEgCvtmXmlhOUq0HZHkDX4cMlQWExA=" crossorigin="anonymous"></script>-->

  <script src="./third_party/three_gltf_loader.js"></script>
  <script src="./third_party/three_gltf_exporter.js"></script>
  <script src="./third_party/zlib.js"></script>
  <script src="./third_party/three_fbx_loader.js"></script>
  <script src="./third_party/three_orbit_controls.js"></script>
  <script src="./third_party/file_saver.js"></script>
  <script type="module" src="./mev.js"></script>
</body>

</html>